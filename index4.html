<!DOCTYPE html>
<html>
<head>
  <title>Results Page</title>
</head>
<body>
  <h1>Survey Says:</h1>
  <p id="result"></p>
  
  <script>
const site = "https://api.openweathermap.org/data/2.5/forecast";
const token1 = "9d66b2a166252faa852b4b5558e5e5e4";
const zip_code = "63102";
const units1 = "imperial";
const mode1 = "json";

const params = new URLSearchParams({
  zip: zip_code,
  units: units1,
  mode: mode1,
  appid: token1
}).toString();

fetch(`${site}?${params}`)
  .then(response => response.json())
  .then(response_as_dict => {
    const result = response_as_dict.list;

    const table = document.createElement('table');
    const thead = document.createElement('thead');
    const tbody = document.createElement('tbody');

    // Create table header
    const headerRow = document.createElement('tr');
    const headers = ['Wind Speed', 'Temprature', 'Wind Speed'];
    for (const header of headers) {
      const th = document.createElement('th');
      th.textContent = header;
      headerRow.appendChild(th);
    }
    thead.appendChild(headerRow);
    table.appendChild(thead);

    // Create table rows
    for (const item of result) {
      const row = document.createElement('tr');
      const value1 = item.wind.deg;
      const value2 = item.main.temp;
      const value3 = item.wind.speed;
      const values = [value1, value2, value3];
      for (const value of values) {
        const td = document.createElement('td');
        td.textContent = value;
        row.appendChild(td);
      }
      tbody.appendChild(row);
    }
    table.appendChild(tbody);

    const resultElement = document.getElementById('result');
    resultElement.innerHTML = ''; // Clear the content of the element
    resultElement.appendChild(table); // Update the content of the element
  });
    .catch(error => {
      console.error(`Error: ${error.message}`);
    });
</script>
</body>
</html>